<section class="section_container nextPage_container">
  <div class="nextPage">
    <p class="nextPage__title">Transforme vidas com suas ações!</p>
    <div class="input_group input_btn">
      <!-- Botão de inscrição -->
      <button class="btn" onclick="showVolunteerForm()">Seja Voluntário</button>
    </div>
  </div>
</section>

<!-- Formulário para cadastro de voluntário -->
<section class="section_container volunteer_form_container" id="volunteer-form-container" style="display: none;">
  <div class="volunteer_form">
    <p class="volunteer_form__title">Cadastre-se como Voluntário</p>
    <form id="volunteer-form">
      <label for="name">Nome Completo:</label>
      <input type="text" id="name" name="name" required placeholder="Seu nome completo">

      <label for="email">E-mail:</label>
      <input type="email" id="email" name="email" required placeholder="Seu e-mail">

      <label for="phone">Telefone:</label>
      <input type="tel" id="phone" name="phone" required placeholder="Seu telefone">

      <label for="message">Mensagem:</label>
      <textarea id="message" name="message" placeholder="Por que deseja ser voluntário?" required></textarea>

      <button type="submit" class="btn">Cadastrar como Voluntário</button>
    </form>
  </div>
</section>

<script>
  // Função para exibir o formulário de voluntário
  function showVolunteerForm() {
    document.getElementById('volunteer-form-container').style.display = 'block';
  }

  // Lidar com o envio do formulário
  document.getElementById('volunteer-form').addEventListener('submit', function(event) {
    event.preventDefault(); // Previne o envio tradicional

    // Obtém os valores do formulário
    const name = document.getElementById('name').value;
    const email = document.getElementById('email').value;
    const phone = document.getElementById('phone').value;
    const message = document.getElementById('message').value;

    // Objeto com os dados do voluntário
    const volunteerData = {
      name: name,
      email: email,
      phone: phone,
      message: message
    };

    // Enviar dados para o servidor (Back-End)
    fetch('http://localhost:3000/api/volunteers', { // URL do seu endpoint
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify(volunteerData) // Envia os dados em formato JSON
    })
    .then(response => response.json()) // Espera a resposta do servidor em JSON
    .then(data => {
      if (data.success) {
        alert('Cadastro realizado com sucesso!');
        document.getElementById('volunteer-form').reset(); // Limpa o formulário
        document.getElementById('volunteer-form-container').style.display = 'none'; // Esconde o formulário
      } else {
        alert('Erro ao cadastrar. Tente novamente!');
      }
    })
    .catch((error) => {
      console.error('Erro:', error);
      alert('Erro ao enviar dados. Tente novamente!');
    });
  });
</script>

